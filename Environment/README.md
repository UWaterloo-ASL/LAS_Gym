# Environment class
This folder contains **Environment** classes which are a layer of interface between Learning Agent and Simulated Environment in V-REP. All sensory data will be sent to learning agent from these interface classes, while all action command generated by learning agent will be sent to actuators in V-REP through these interface classes too.

The public interface functions in these classes follow convention of [the Env class in OpenAi Gym](https://gym.openai.com/docs/), which includes:

  1. `observation = env.reset()`
  2. `observation, rewward, done, info = env.step(action)`
## Organization of Environment Classes
In our interactive system, Living Architecture System and Visitor interacts with each other. Since we need to implement control algorithms for both Living Architecture System and Visitor, there are two types of environment classes:
* Living Architecture Environment:
   1. LASEnv.py
* Visitor Environment:
   1. BrightLightExcitedVisitorEnv.py
   2. RedLightExcitedVisitor_LAS_Env.py
## How To Use
### Step 1. Run the Simulating Scene in V-REP
1. **Method 1: with GUI (Better for visulizing behavior)**
   1. Clone the whole repositry
   2. In V-REP: `File -> Open scene -> choose LAS_Gym/LAS-Scenes/livingArchitecture_ROM_exhibit.ttt `
      * Notes:In this manner, you can visualize the interactions among LAS, Env and Visitor. However, this visualization will slow down interaction due to vision render. We recommend you only use this method when you examine your agents' behavior. For other cases like training, please use **Method 2**. 
2. **Method 2: without any GUI (Faster)**
   1. Clone the whole repositry
   2. Open `Terminal` or `Command Prompt`
   3. Change directory to your vrep.exe. For example: `cd C:\Program Files\V-REP3\V-REP_PRO_EDU\`
   4. start V-REP via the command line: `vrep -h -s C:\LAS_Gym\LAS-Scenes\livingArchitecture_ROM_exhibit.ttt`
      * Notes:
         * For details on starting V-REP via the command line, please refer to [start V-REP via the command line](http://www.coppeliarobotics.com/helpFiles/en/commandLine.htm) provided by V-REP.
         * You can also add path of vrep.exe to environment variable without needing to chang directory everytime.
### Step 2. Instantiate Environment Classs with IP and Port
To instantiate environment class, we need IP and Port to connect to and communicate with V-REP server. More details on [Enabling the Remote API - server side](http://www.coppeliarobotics.com/helpFiles/en/remoteApiServerSide.htm) and [Enabling the Remote API - client side](http://www.coppeliarobotics.com/helpFiles/en/remoteApiClientSide.htm).
1. IP address to connect V-REP server.
2. Port to communicate with V-REP server.
### Step 3. Use Instantiated Environment Object As Using [OpenAI Gym.env](https://gym.openai.com/docs/)
A sample code for using environment class:
~~~~
env = LASEnv('127.0.0.1', 19997)
observation = env.reset()
while not done:
    action = env.action_space.sample()
    observation, reward, done, info = env.step(action)
~~~~
